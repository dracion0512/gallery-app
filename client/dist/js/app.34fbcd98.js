(function(t){function e(e){for(var a,o,i=e[0],c=e[1],u=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0356":function(t,e,s){},"26d1":function(t,e,s){},"2a62":function(t,e,s){"use strict";s("b4fc")},"47a3":function(t,e,s){"use strict";s("556f")},"4ce2":function(t,e,s){"use strict";s("97bc")},"556f":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"p-0 px-md-3 m-0",attrs:{tag:"header",id:"main-header",toggleable:"md",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-navbar-brand",{staticClass:"m-0 p-0 mr-auto",attrs:{href:"/"}},[a("img",{attrs:{id:"logo",src:s("9b19"),alt:""}})]),a("b-collapse",{staticClass:"justify-content-md-end px-0",attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-form",[a("b-form-input",{staticClass:"d-block mr-2 h-100",attrs:{id:"search-input",size:"sm",placeholder:"Search"},model:{value:t.searchTag,callback:function(e){t.searchTag=e},expression:"searchTag"}})],1),a("b-button",{staticClass:"mx-md-2 px-2 py-1",attrs:{id:"search-button",size:"sm"},on:{click:t.searchContent}},[t._v(" Search "),a("b-icon-search",{staticClass:"ml-3"})],1)],1),a("b-navbar-nav",[t.username?a("b-nav-item-dropdown",{staticClass:"main-nav-link",class:{active:["userList","userAccount"].includes(t.$route.name)},attrs:{left:"",offset:"-400",variant:"dark"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",[t._v(t._s(t.username))])]},proxy:!0}])},[a("b-dropdown-item",{attrs:{left:"",to:{name:"userList",query:{page:1},params:{id:t.username}},"active-class":"active"}},[t._v("Favorite List")]),a("b-dropdown-item",{attrs:{to:{name:"userAccount",params:{id:t.username}},"active-class":"active"}},[t._v("Account settings")])],1):a("b-nav-item",{staticClass:"main-nav-link",class:{active:"authorization"===t.$route.name},attrs:{to:{name:"authorization"},exact:""}},[t._v(" Authorization ")])],1),a("b-navbar-nav",[a("b-nav-item",{staticClass:"main-nav-link",class:"gallery"==t.$route.name?"active":"inactive",attrs:{to:{name:"gallery",query:{page:1}},exact:""}},[t._v(" Gallery ")])],1)],1)],1),a("router-view",{scopedSlots:t._u([{key:"default",fn:function(t){var e=t.Component;return[a(e,{tag:"component"})]}}])}),t._m(0)],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("h2",[t._v("Test app")])])}],o=(s("7f7f"),s("bc3a")),i=s.n(o),c={name:"home",data:function(){return{data:null,searchTag:""}},computed:{connection:{get:function(){return{status:this.$store.state.status,message:this.$store.state.message}},set:function(t){return[this.$store.dispatch("setStatus",t.status),this.$store.dispatch("setMessage",t.message)]}},content:{get:function(){return this.$store.state.data},set:function(t){return this.$store.dispatch("setData",t)}},token:{get:function(){return this.$store.state.token},set:function(t){return this.$store.dispatch("setToken",t)}},username:{get:function(){return this.$store.state.username},set:function(t){return this.$store.dispatch("setUsername",t)}},favorite:{get:function(){return this.$store.state.favorite},set:function(t){return this.$store.dispatch("setFavorite",t)}}},methods:{handleScroll:function(){var t=document.getElementById("main-header");window.pageYOffset>320?(t.classList.add("active"),t.classList.remove("hidden")):(t.classList.remove("active"),t.classList.add("hidden"))},searchContent:function(){this.$store.dispatch("setSearchTag",this.searchTag),this.$route.name,this.$router.push({name:"gallery",query:{page:1}})}},created:function(){var t=this;localStorage.getItem("user-token")&&(this.token=localStorage.getItem("user-token")),i.a.get("https://localhost:9000/api/data",{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){var s=e.data,a=s.data,n=s.user;t.content=a.filter((function(t){return!!t})),t.connection={status:e.status,message:"Succesfull connection"},n&&(t.username=n.username,t.favorite=n.favorite)})).catch((function(e){if(e.response){var s=e.response,a=s.data,n=s.status;t.connection={status:n,message:a.message}}else console.error(e),t.data=e,t.connection={status:404,message:"Network error"}})),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},u=c,l=(s("5c0b"),s("2877")),d=Object(l["a"])(u,n,r,!1,null,null,null),f=d.exports,p=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.content&&300>t.connection.status&&t.connection.status>=200?s("Gallery",{attrs:{content:t.content}}):t.connection.status>=400?s("Error",{attrs:{message:t.connection.message,status:t.connection.status}}):s("LoadingAnimation")},h=[],g=(s("3b2b"),s("6762"),s("2fdb"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.content.length>0?s("section",{staticClass:"gallery"},[t.searchTag?s("b-badge",{staticClass:"search-message mb-5",attrs:{variant:"primary"},on:{click:t.clearSearchTag}},[t._v("Search result of: "+t._s(this.searchTag)+" "),s("b-icon-backspace-fill")],1):t._e(),s("b-container",{staticClass:"bv-example-row bv-example-row-flex-cols"},[s("b-row",{attrs:{"align-v":"stretch","align-h":"center"}},t._l(t.pageContent,(function(e){return s("b-col",{key:e._id,staticClass:"pb-4 gallery-item d-flex flex-column align-items-start",attrs:{cols:"10",offset:"0",md:"6",lg:"4"}},[s("b-icon",{staticClass:"gallery-icon pl-4",class:{active:t.favorite.includes(e),disabled:!t.$store.state.username},attrs:{icon:t.favorite.includes(e)?"x-circle":"heart-fill","font-scale":"1.5",variant:t.favorite.includes(e)?"danger":t.$store.state.username?"white":"secondary"},on:{click:function(s){return t.setFavoriteList(e)}}}),s("b-img-lazy",{staticClass:"gallery-image",attrs:{src:e.url,alt:e.title,blank:!0,"blank-color":"#ded3d3",fluid:!0}}),s("p",{staticClass:"item-footer align-self-stretch text-start px-4 m-0"},[s("span",[t._v("#"+t._s(e.id))]),t._v(" "+t._s(e.tags.join(", "))+" ")])],1)})),1)],1),t.pageLimit>1?s("b-pagination-nav",{staticClass:"mb-4 gallery-pagination",attrs:{"link-gen":t.linkGen,page:t.pageContent,"number-of-pages":t.pageLimit,index:t.pageIndex,limit:t.pagination.size,"first-number":t.pagination.size>7,"last-number":t.pagination.size>7,"hide-ellipsis":t.pagination.size<=7,align:"center"}}):t._e()],1):s("b-badge",{staticClass:"search-message my-5",attrs:{variant:"primary"},on:{click:t.clearSearchTag}},[t._v("No search result of: "+t._s(this.searchTag)+", try another one... "),s("b-icon-backspace-fill")],1)}),v=[],b={name:"Gallery",data:function(){return{pagination:{size:3,limit:12}}},props:{content:Array},methods:{linkGen:function(t){return{path:this.$route.path,query:{page:t}}},onResize:function(){window.innerWidth>992?this.pagination.size=9:window.innerWidth>762?this.pagination.size=7:this.pagination.size=5},setFavoriteList:function(t){this.$store.state.username&&(this.favorite=t)},clearSearchTag:function(){this.$store.dispatch("setSearchTag","")}},computed:{favorite:{get:function(){return this.$store.state.favorite},set:function(t){return this.$store.dispatch("updateFavorite",t)}},pageIndex:function(){if(this.$route.query.page)return this.$route.query.page},pageLimit:function(){return Math.ceil(this.content.length/this.pagination.limit)},pageContent:function(){return this.content.slice(this.pagination.limit*this.pageIndex-this.pagination.limit,this.pagination.limit*this.pageIndex)},searchTag:function(){return this.$store.state.searchTag}},created:function(){this.$route.query.page&&/^[0-9]+$/g.test(this.$route.query.page)||this.$router.push({path:this.$route.path,query:{page:1}}),window.addEventListener("resize",this.onResize),this.onResize(),this.$store.state.searchTag&&this.clearSearchTag},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}},w=b,_=(s("5cf9"),Object(l["a"])(w,g,v,!1,null,"23392266",null)),y=_.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"loader"},[s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--dot"}),s("div",{staticClass:"loader--text"})])])}],S={name:"LoadingAnimation"},T=S,R=(s("9f8a"),Object(l["a"])(T,k,$,!1,null,"8e1dec7e",null)),C=R.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"error"}},[s("h2",[t._v(t._s(t.status))]),s("h3",[t._v(t._s(t.message))])])},E=[],A=(s("c5f6"),{name:"ErrorMessage",props:{status:Number,message:String}}),I=A,P=(s("5852"),Object(l["a"])(I,x,E,!1,null,"12eb510c",null)),O=P.exports,z={name:"gallery",components:{Gallery:y,LoadingAnimation:C,Error:O},computed:{connection:function(){return{status:this.$store.state.status,message:this.$store.state.message}},searchTag:function(){return this.$store.state.searchTag},content:function(){var t=this;return this.$store.state.searchTag.length>0?this.$store.state.data.filter((function(e){return e.id===t.searchTag||e.tags.includes(t.searchTag)||new RegExp(t.searchTag).test(e.title)})):this.$store.state.data}}},U=z,j=Object(l["a"])(U,m,h,!1,null,null,null),V=j.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isRegistred?s("SignIn",{on:{"link-func":t.changeRegistedStatus}}):s("SignUp",{on:{"link-func":t.changeRegistedStatus}})},D=[],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.errorInfo?s("div",{staticClass:"my-3",attrs:{id:"warning"}},[s("h4",[t._v(t._s(t.errorInfo.message))]),t.errorInfo.errors?s("div",t._l(t.errorInfo.errors.errors,(function(e){return s("h5",{key:e.param},[t._v(" "+t._s(e.msg)+" in "+t._s(e.param)+" field ")])})),0):t._e()]):t._e(),s("b-form",{staticClass:"py-2",on:{submit:function(e){return e.preventDefault(),t.signInSubmit(e)}}},[s("label",{staticClass:"p-2",attrs:{for:"username",block:""}},[t._v("Login")]),s("b-form-input",{attrs:{type:"text",id:"username",placeholder:"login"},model:{value:t.formResponse.username,callback:function(e){t.$set(t.formResponse,"username",e)},expression:"formResponse.username"}}),s("b-input-group",{},[s("label",{staticClass:"p-2",attrs:{for:"password",block:""}},[t._v("Password")]),s("b-form-input",{attrs:{type:t.isVisible?"text":"password",id:"password",placeholder:"password"},model:{value:t.formResponse.password,callback:function(e){t.$set(t.formResponse,"password",e)},expression:"formResponse.password"}}),s("b-input-group-prepend",{attrs:{"is-text":""},on:{click:t.togglePassword}},[s("b-icon",{attrs:{icon:t.isVisible?"eye-fill":"eye-slash-fill","font-scale":"1.5"}})],1)],1),s("input",{staticClass:"mt-4",attrs:{type:"submit",value:"Sign In",disabled:!t.status}})],1),s("p",{staticClass:"pt-3"},[t._v(" Don't Have an account? "),s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.$emit("link-func")}}},[t._v("Sign Up")])])],1)},F=[],G={name:"SignIn",data:function(){return{formResponse:{username:"",password:""},isVisible:!1,errorInfo:null}},computed:{status:function(){return this.formResponse.username.length>=4&&this.formResponse.password.length>=4}},methods:{togglePassword:function(){this.isVisible=!this.isVisible},signInSubmit:function(){var t=this;i()({method:"post",url:"https://localhost:9000/api/auth/login","Access-Control-Allow-Origin":"*",data:this.formResponse}).then((function(e){var s=e.data,a=s.token,n=s.username,r=s.favorite;t.errorInfo=null,t.formResponse.username="",t.formResponse.password="",t.$store.dispatch("setToken",a),t.$store.dispatch("setUsername",n),t.$store.dispatch("setFavorite",r),localStorage.setItem("user-token",a),t.$router.push({name:"gallery"})})).catch((function(e){console.error(e),t.errorInfo=e.response.data}))}}},q=G,N=(s("4ce2"),Object(l["a"])(q,M,F,!1,null,"c6cc935a",null)),Y=N.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.errorInfo?s("div",{staticClass:"my-3",attrs:{id:"warning"}},[s("h4",[t._v(t._s(t.errorInfo.message))]),t.errorInfo.errors?s("div",t._l(t.errorInfo.errors.errors,(function(e){return s("h5",{key:e.param},[t._v(" "+t._s(e.msg)+" in "+t._s(e.param)+" field ")])})),0):t._e()]):t._e(),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.registrationSubmit(e)}}},[s("b-input-group",{},[s("label",{staticClass:"p-2 block",attrs:{for:"username"}},[t._v("Username")]),s("b-form-input",{attrs:{type:"text",id:"username",placeholder:"username","aria-describedby":"username-help-block",state:t.validationUsername},model:{value:t.formResponse.username,callback:function(e){t.$set(t.formResponse,"username",e)},expression:"formResponse.username"}}),s("b-form-invalid-feedback",{attrs:{id:"username-check-help-block",state:t.validationUsername}},[t._v(" Your personal ID must be 5-20 characters long, contain only letters and numbers. ")])],1),s("b-input-group",{},[s("label",{staticClass:"p-2 block",attrs:{for:"password"}},[t._v("Password")]),s("b-form-input",{attrs:{type:t.isVisible?"text":"password",id:"password",placeholder:"password","aria-describedby":"password-help-block",state:t.validationPassword},model:{value:t.formResponse.password,callback:function(e){t.$set(t.formResponse,"password",e)},expression:"formResponse.password"}}),s("b-input-group-prepend",{attrs:{"is-text":""},on:{click:t.togglePassword}},[s("b-icon",{attrs:{icon:t.isVisible?"eye-fill":"eye-slash-fill","font-scale":"1.5"}})],1),s("b-form-invalid-feedback",{attrs:{id:"password-check-help-block",state:t.validationPassword}},[t._v(" Your password must be 5-20 characters long, contain only letters and numbers. ")])],1),s("input",{staticClass:"mt-4",attrs:{type:"submit",value:"Sign Up",disabled:!t.isValid}})],1),s("p",{staticClass:"pt-4"},[t._v(" Have an account? "),s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.$emit("link-func")}}},[t._v("Sign In")])])],1)},B=[],H={name:"SignUp",data:function(){return{formResponse:{username:"",password:""},isVisible:!1,errorInfo:null}},computed:{validationUsername:function(){var t=this.formResponse.username,e=/^[a-zA-Z0-9]+$/g;return t.length>4&&t.length<=20&&e.test(t)},validationPassword:function(){var t=this.formResponse.password,e=/^[a-zA-Z0-9]+$/g;return t.length>4&&t.length<=20&&e.test(t)},isValid:function(){return this.validationUsername&&this.validationPassword}},methods:{togglePassword:function(){this.isVisible=!this.isVisible},registrationSubmit:function(){var t=this;i()({method:"post",url:"https://localhost:9000/api/auth/registration","Access-Control-Allow-Origin":"*",data:this.formResponse}).then((function(e){t.formResponse.username="",t.formResponse.password="",t.errorInfo=null,t.$store.dispatch("setToken",e.data.token),t.$store.dispatch("setUsername",e.data.username),t.$store.dispatch("setFavorite",e.data.favorite),localStorage.setItem("user-token",e.data.token),t.$router.push({name:"gallery"})})).catch((function(e){console.error(e),t.errorInfo=e.response.data}))}}},J=H,K=(s("2a62"),Object(l["a"])(J,Z,B,!1,null,"473605f3",null)),W=K.exports,Q={name:"authorization",components:{SignIn:Y,SignUp:W},data:function(){return{isRegistred:!0}},methods:{changeRegistedStatus:function(){this.isRegistred=!this.isRegistred}}},X=Q,tt=Object(l["a"])(X,L,D,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"user"}},[s("router-view")],1)},at=[],nt={name:"user"},rt=nt,ot=(s("47a3"),Object(l["a"])(rt,st,at,!1,null,"4b58d6f8",null)),it=ot.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Gallery",{attrs:{content:t.favorite}})},ut=[],lt={name:"userList",components:{Gallery:y},computed:{content:function(){return this.$store.state.data},searchTag:function(){return this.$store.state.searchTag},favorite:function(){var t=this;return this.searchTag.length>0?this.$store.state.favorite.filter((function(e){return e.id==t.searchTag||e.tags.includes(t.searchTag)||new RegExp(t.searchTag).test(e.title)})):this.$store.state.favorite}}},dt=lt,ft=Object(l["a"])(dt,ct,ut,!1,null,null,null),pt=ft.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("UserAccount")},ht=[],gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"user-account"}},[s("div",{staticClass:"container"},[t.errorInfo?s("div",{staticClass:"my-3",attrs:{id:"warning"}},[s("h4",[t._v(t._s(t.errorInfo.message))]),t.errorInfo.errors?s("div",t._l(t.errorInfo.errors.errors,(function(e){return s("h5",{key:e.param},[t._v(" "+t._s(e.msg)+" in "+t._s(e.param)+" field ")])})),0):t._e()]):t._e(),s("b-form",{staticClass:"py-2",on:{submit:function(t){t.preventDefault()}}},[s("label",{staticClass:"p-2",attrs:{for:"username",block:""}},[t._v("Set login")]),s("b-form-input",{attrs:{state:t.formResponse.username.length>0?t.validationUsername:null,type:"text",id:"username",placeholder:"new login"},model:{value:t.formResponse.username,callback:function(e){t.$set(t.formResponse,"username",e)},expression:"formResponse.username"}}),t.formResponse.username.length>0?s("b-form-invalid-feedback",{attrs:{id:"password-check-help-block",state:t.validationUsername}},[t._v(" Your personal ID must be 5-20 characters long, contain only letters and numbers. ")]):t._e(),s("b-input-group",{},[s("label",{staticClass:"p-2",attrs:{for:"password",block:""}},[t._v("Set password")]),s("b-form-input",{attrs:{state:t.formResponse.password.length>0?t.validationPassword:null,type:t.isVisible?"text":"password",id:"password",placeholder:"new password"},model:{value:t.formResponse.password,callback:function(e){t.$set(t.formResponse,"password",e)},expression:"formResponse.password"}}),s("b-input-group-prepend",{attrs:{"is-text":""},on:{click:t.togglePassword}},[s("b-icon",{attrs:{icon:t.isVisible?"eye-fill":"eye-slash-fill","font-scale":"1.5"}})],1),t.formResponse.password.length>0?s("b-form-invalid-feedback",{attrs:{id:"password-check-help-block",state:t.validationPassword}},[t._v(" Your password must be 5-20 characters long, contain only letters and numbers. ")]):t._e(),s("label",{staticClass:"p-2",attrs:{for:"password",block:""}},[t._v("Current password")]),s("b-form-input",{attrs:{state:t.formResponse.currentPassword.length>0?t.validationCurrentPassword:null,type:t.isVisible?"text":"password",id:"current_password",placeholder:"current password"},model:{value:t.formResponse.currentPassword,callback:function(e){t.$set(t.formResponse,"currentPassword",e)},expression:"formResponse.currentPassword"}}),s("b-input-group-prepend",{attrs:{"is-text":""},on:{click:t.togglePassword}},[s("b-icon",{attrs:{icon:t.isVisible?"eye-fill":"eye-slash-fill","font-scale":"1.5"}})],1)],1),t.formResponse.username.length>0&&t.validationUsername||t.formResponse.password>0&&t.validationPassword||t.formResponse.currentPassword>0&&t.validationCurrentPassword?s("b-form-invalid-feedback",{attrs:{id:"password-check-help-block",state:t.validationCurrentPassword}},[t._v(" Please input your current password to save changes. ")]):t._e(),s("input",{staticClass:"mt-4",attrs:{type:"submit",value:"Save changes",disabled:!t.status,variant:"primary"},on:{click:t.setUser}}),s("input",{staticClass:"mt-4",attrs:{type:"button",value:"Sign Out"},on:{click:t.signOut}})],1)],1)])},vt=[],bt={name:"UserAccount",data:function(){return{errorInfo:null,formResponse:{username:"",password:"",currentPassword:""},isVisible:!1}},computed:{connection:function(){return{status:this.$store.state.status,message:this.$store.state.message}},token:function(){return this.$store.state.token},status:function(){return this.formResponse.username.length>=4&&this.validationUsername||this.formResponse.password.length>=4&&this.validationPassword&&this.formResponse.currentPassword.length>=4&&this.validationCurrentPassword},validationCurrentPassword:function(){var t=this.formResponse.currentPassword,e=/^[a-zA-Z0-9]+$/g;return t.length>4&&t.length<=20&&e.test(t)},validationPassword:function(){var t=this.formResponse.password,e=/^[a-zA-Z0-9]+$/g;return t.length>4&&t.length<=20&&e.test(t)},validationUsername:function(){var t=this.formResponse.username,e=/^[a-zA-Z0-9]+$/g;return t.length>4&&t.length<=20&&e.test(t)}},methods:{togglePassword:function(){this.isVisible=!this.isVisible},signOut:function(){this.$router.push({name:"gallery"}),localStorage.removeItem("user-token"),this.$store.state.username=null,this.$store.state.favorite=[]},setUser:function(){var t=this,e=this.formResponse,s=e.password,a=e.currentPassword,n=e.username;i()({method:"patch",url:"https://localhost:9000/api/auth/login",headers:{Authorization:"Bearer ".concat(this.token)},data:{data:{username:n,password:s,currentPassword:a}}}).then((function(e){t.$store.dispatch("setUsername",e.data.username),t.$router.push({name:"profile"}),t.errorInfo=null})).catch((function(e){t.errorInfo=e.response.data,console.error(e)}))}}},wt=bt,_t=(s("ab7c"),Object(l["a"])(wt,gt,vt,!1,null,"f0dcd91a",null)),yt=_t.exports,kt={name:"userAccount",components:{UserAccount:yt}},$t=kt,St=Object(l["a"])($t,mt,ht,!1,null,null,null),Tt=St.exports;a["a"].use(p["a"]);var Rt=new p["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/gallery"},{path:"/gallery",name:"gallery",component:V},{path:"/authorization",name:"authorization",component:et},{path:"/user/:id",name:"user",redirect:"/user/:id/list",component:it,children:[{path:"list",name:"userList",component:pt},{path:"account",name:"userAccount",component:Tt}]}]}),Ct=(s("55dd"),s("6b54"),s("ac6a"),s("5df3"),s("f400"),s("2f62"));a["a"].use(Ct["a"]);var xt=new Ct["a"].Store({state:{status:0,message:"",data:[],token:"",username:null,favorite:[],searchTag:""},getters:{status:function(t){return t.status},message:function(t){return t.message},data:function(t){return t.data},token:function(t){return t.token},username:function(t){return t.username},favorite:function(t){return t.favorite},searchTag:function(t){return t.searchTag}},mutations:{SET_STATUS:function(t,e){t.status=e},SET_MESSAGE:function(t,e){t.message=e},SET_DATA:function(t,e){t.data=e},SET_TOKEN:function(t,e){t.token=e},SET_USERNAME:function(t,e){t.username=e},SET_FAVORITE:function(t,e){var s=new Map;e.forEach((function(t){return s.set(""+t)})),t.favorite=t.data.filter((function(t){return s.has(t.id.toString())}))},UPDATE_FAVORITE:function(t,e){t.favorite.includes(e)?t.favorite.splice(t.favorite.indexOf(e),1):(t.favorite.push(e),t.favorite.sort((function(t,e){return t.id-e.id})))},SET_SEARCHTAG:function(t,e){t.searchTag=e}},actions:{setStatus:function(t,e){var s=t.commit,a=t.state;return s("SET_STATUS",e),a.status},setMessage:function(t,e){var s=t.commit,a=t.state;return s("SET_MESSAGE",e),a.message},setData:function(t,e){var s=t.commit,a=t.state;return s("SET_DATA",e),a.data},setToken:function(t,e){var s=t.commit,a=t.state;return s("SET_TOKEN",e),a.token},setUsername:function(t,e){var s=t.commit,a=t.state;return s("SET_USERNAME",e),a.username},setFavorite:function(t,e){var s=t.commit,a=t.state;return s("SET_FAVORITE",e),a.favorite},updateFavorite:function(t,e){var s=t.dispatch,a=t.commit,n=t.state;return a("UPDATE_FAVORITE",e),i()({method:"patch",url:"https://localhost:9000/api/auth/favorite/".concat(e),headers:{Authorization:"Bearer ".concat(n.token)}}).then((function(t){s("setStatus",t.status),s("setMessage",t.data.message)})).catch((function(t){return console.error(t)})),n.favorite},setSearchTag:function(t,e){var s=t.commit,a=t.state;return s("SET_SEARCHTAG",e),a.searchTag}}}),Et=(s("f9e3"),s("2dd8"),s("521d")),At=s("7049"),It=s("ad5f"),Pt=s("bdc5"),Ot=s("498a"),zt=s("1073"),Ut=s("b1fc"),jt=s("9ae9"),Vt=s("700c"),Lt=s("cbd0"),Dt=s("b1e0"),Mt=s("6e5c"),Ft=s("f9bc"),Gt=s("b720");a["a"].use(Et["a"]),a["a"].use(At["a"]),a["a"].use(It["a"]),a["a"].use(Pt["a"]),a["a"].use(Ot["a"]),a["a"].use(zt["a"]),a["a"].use(Ut["a"]),a["a"].use(jt["a"]),a["a"].use(Vt["a"]),a["a"].use(Lt["a"]),a["a"].use(Dt["a"]),a["a"].use(Mt["a"]),a["a"].use(Ft["a"]),a["a"].use(Gt["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Rt,store:xt,render:function(t){return t(f)}}).$mount("#app")},5852:function(t,e,s){"use strict";s("66ca")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"5cf9":function(t,e,s){"use strict";s("0356")},"66ca":function(t,e,s){},7791:function(t,e,s){},"97bc":function(t,e,s){},"9b19":function(t,e,s){t.exports=s.p+"img/logo.3d277ec7.svg"},"9c0c":function(t,e,s){},"9f8a":function(t,e,s){"use strict";s("7791")},ab7c:function(t,e,s){"use strict";s("26d1")},b4fc:function(t,e,s){}});
//# sourceMappingURL=app.34fbcd98.js.map